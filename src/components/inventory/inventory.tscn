[gd_scene load_steps=36 format=2]

[ext_resource path="res://assets/icons/icon_loot.svg" type="Texture" id=1]
[ext_resource path="res://assets/icons/icon_check.svg" type="Texture" id=2]
[ext_resource path="res://assets/icons/icon_material.svg" type="Texture" id=3]
[ext_resource path="res://theme.tres" type="Theme" id=4]
[ext_resource path="res://components/inventory/inventory.gd" type="Script" id=5]
[ext_resource path="res://assets/icons/icon_level.svg" type="Texture" id=6]
[ext_resource path="res://components/story_frame/story_frame.tscn" type="PackedScene" id=7]
[ext_resource path="res://assets/skills/icon_regenerate.svg" type="Texture" id=8]
[ext_resource path="res://assets/icons/icon_shop.svg" type="Texture" id=9]
[ext_resource path="res://assets/icons/icon_menu.svg" type="Texture" id=10]
[ext_resource path="res://assets/icons/icon_vault.svg" type="Texture" id=11]
[ext_resource path="res://components/gear_summary/gear_summary.tscn" type="PackedScene" id=12]
[ext_resource path="res://components/button_base/button_base.tscn" type="PackedScene" id=13]
[ext_resource path="res://assets/icons/icon_tool.svg" type="Texture" id=14]
[ext_resource path="res://assets/font/StoryFont.tres" type="DynamicFont" id=15]
[ext_resource path="res://assets/icons/icon_gear.svg" type="Texture" id=16]
[ext_resource path="res://assets/font/RubikItalicSmall.tres" type="DynamicFont" id=17]
[ext_resource path="res://assets/icons/icon_module.svg" type="Texture" id=18]
[ext_resource path="res://assets/icons/icon_percent.svg" type="Texture" id=19]
[ext_resource path="res://assets/icons/icon_ladder.svg" type="Texture" id=20]
[ext_resource path="res://assets/icons/icon_augment.svg" type="Texture" id=21]
[ext_resource path="res://shaders/rainbow_shader.tres" type="Material" id=22]
[ext_resource path="res://components/action_icon/action_icon.tscn" type="PackedScene" id=23]
[ext_resource path="res://assets/controller/Switch_RB.png" type="Texture" id=24]
[ext_resource path="res://assets/controller/XboxSeriesX_RB.png" type="Texture" id=25]
[ext_resource path="res://assets/controller/PS5_R1.png" type="Texture" id=26]
[ext_resource path="res://assets/controller/Tab_Key_Dark.png" type="Texture" id=27]

[sub_resource type="StyleBoxFlat" id=1]
bg_color = Color( 0, 0, 0, 1 )
border_color = Color( 0, 0, 0, 1 )

[sub_resource type="ButtonGroup" id=10]

[sub_resource type="StyleBoxFlat" id=11]
bg_color = Color( 0.0705882, 0.0784314, 0.0941176, 1 )

[sub_resource type="StyleBoxFlat" id=15]
bg_color = Color( 1, 1, 1, 1 )
corner_radius_top_left = 2
corner_radius_top_right = 2
corner_radius_bottom_right = 2
corner_radius_bottom_left = 2
expand_margin_left = 8.0
expand_margin_right = 8.0

[sub_resource type="StyleBoxFlat" id=7]
content_margin_left = 8.0
content_margin_right = 8.0
content_margin_top = 8.0
content_margin_bottom = 8.0
bg_color = Color( 0, 0, 0, 1 )
border_color = Color( 0, 0, 0, 1 )

[sub_resource type="Shader" id=14]
code = "// HSV to RBG from https://www.rapidtables.com/convert/color/hsv-to-rgb.html
// Rotation matrix from https://en.wikipedia.org/wiki/Rotation_matrix

shader_type canvas_item;

const float PI = 3.1415926535;

uniform float strength: hint_range(0., 1.) = 0.5;
uniform float speed: hint_range(0., 10.) = 0.5;
uniform float angle: hint_range(0., 360.) = 0.;

void fragment() {
	float hue = UV.x * cos(radians(angle)) - UV.y * sin(radians(angle));
	hue = fract(hue + fract(TIME  * speed));
	float x = 1. - abs(mod(hue / (1./ 6.), 2.) - 1.);
	vec3 rainbow;
	if(hue < 1./6.){
		rainbow = vec3(1., x, 0.);
	} else if (hue < 1./3.) {
		rainbow = vec3(x, 1., 0);
	} else if (hue < 0.5) {
		rainbow = vec3(0, 1., x);
	} else if (hue < 2./3.) {
		rainbow = vec3(0., x, 1.);
	} else if (hue < 5./6.) {
		rainbow = vec3(x, 0., 1.);
	} else {
		rainbow = vec3(1., 0., x);
	}
	vec4 color = texture(TEXTURE, UV);
	COLOR = mix(color, vec4(rainbow, color.a), strength);
}"

[sub_resource type="ShaderMaterial" id=13]
shader = SubResource( 14 )
shader_param/strength = 0.8
shader_param/speed = 0.15
shader_param/angle = 0.0

[sub_resource type="Animation" id=9]
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 1, 0.5 ),
"update": 0,
"values": [ Vector2( 0, 700 ), Vector2( 0, 0 ) ]
}

[node name="Inventory" type="HBoxContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = 700.0
margin_bottom = 700.0
theme = ExtResource( 4 )
alignment = 1
script = ExtResource( 5 )

[node name="Panel" type="PanelContainer" parent="."]
margin_right = 700.0
margin_bottom = 700.0
rect_min_size = Vector2( 700, 0 )
size_flags_horizontal = 5
size_flags_vertical = 3
custom_styles/panel = SubResource( 1 )

[node name="Container" type="VBoxContainer" parent="Panel"]
margin_right = 700.0
margin_bottom = 700.0
size_flags_horizontal = 3
custom_constants/separation = 0

[node name="GearControls" type="MarginContainer" parent="Panel/Container"]
margin_right = 700.0
margin_bottom = 76.0
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="Container" type="HBoxContainer" parent="Panel/Container/GearControls"]
margin_left = 14.0
margin_top = 8.0
margin_right = 686.0
margin_bottom = 68.0
size_flags_horizontal = 4
custom_constants/separation = 8

[node name="Summary" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
modulate = Color( 1, 1, 1, 1 )
self_modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_right = 60.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
hint_tooltip = "T_VARIABLE_SUMMARY"
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
toggle_mode = true
group = SubResource( 10 )
flat = true
prevent_doubleclick = false

[node name="GearIcon" type="TextureRect" parent="Panel/Container/GearControls/Container/Summary"]
show_behind_parent = true
material = ExtResource( 22 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -30.0
margin_top = -30.0
margin_right = 30.0
margin_bottom = 30.0
rect_min_size = Vector2( 60, 60 )
mouse_filter = 2
texture = ExtResource( 16 )
expand = true

[node name="Damage" type="ColorRect" parent="Panel/Container/GearControls/Container/Summary/GearIcon"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -30.0
margin_top = -23.0
margin_right = 30.0
margin_bottom = 23.0
mouse_filter = 2
color = Color( 0, 0, 0, 0.85 )

[node name="Percent" type="Control" parent="Panel/Container/GearControls/Container/Summary"]
modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_right = 40.0
margin_bottom = 40.0
mouse_filter = 2

[node name="Icon" type="TextureRect" parent="Panel/Container/GearControls/Container/Summary/Percent"]
modulate = Color( 0.4, 0.4, 0.4, 1 )
margin_right = 22.0
margin_bottom = 22.0
mouse_filter = 2
texture = ExtResource( 19 )
expand = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="s00" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 68.0
margin_right = 128.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( -724, 124 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 14 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s00"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s00/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="s01" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 136.0
margin_right = 196.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 14 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s01"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s01/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="s02" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 204.0
margin_right = 264.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 14 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s02"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s02/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="s10" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 272.0
margin_right = 332.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 18 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s10"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s10/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="s11" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 340.0
margin_right = 400.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 18 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s11"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s11/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="s12" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 408.0
margin_right = 468.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 18 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s12"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s12/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="s13" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 476.0
margin_right = 536.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 18 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s13"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s13/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="s14" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 544.0
margin_right = 604.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 18 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s14"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s14/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="s15" parent="Panel/Container/GearControls/Container" instance=ExtResource( 13 )]
margin_left = 612.0
margin_right = 672.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 30, 30 )
focus_neighbour_top = NodePath("../../../Bottom/Container/ButtonMenu")
size_flags_horizontal = 3
disabled = true
toggle_mode = true
group = SubResource( 10 )
icon = ExtResource( 18 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/GearControls/Container/s15"]
visible = false
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -10.0
margin_top = -20.0
margin_right = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/GearControls/Container/s15/Triangle"]
position = Vector2( 0, 18 )
polygon = PoolVector2Array( 0, 0, 20, 0, 10, 10 )

[node name="Tabs" type="PanelContainer" parent="Panel/Container"]
margin_top = 76.0
margin_right = 700.0
margin_bottom = 556.0
focus_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
custom_styles/panel = SubResource( 11 )

[node name="Loot" type="ScrollContainer" parent="Panel/Container/Tabs"]
margin_right = 700.0
margin_bottom = 480.0
mouse_filter = 1
scroll_horizontal_enabled = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Margin" type="MarginContainer" parent="Panel/Container/Tabs/Loot"]
margin_right = 700.0
margin_bottom = 480.0
mouse_filter = 1
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="Container" type="VBoxContainer" parent="Panel/Container/Tabs/Loot/Margin"]
margin_left = 8.0
margin_top = 8.0
margin_right = 692.0
margin_bottom = 472.0
custom_constants/separation = 8

[node name="Label" type="Label" parent="Panel/Container/Tabs/Loot/Margin/Container"]
modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_right = 684.0
margin_bottom = 24.0
size_flags_vertical = 0
custom_fonts/font = ExtResource( 17 )
text = "T_LOOT"
align = 1
uppercase = true

[node name="Arrow1" type="TextureRect" parent="Panel/Container/Tabs/Loot/Margin/Container/Label"]
margin_right = 24.0
margin_bottom = 24.0
rect_min_size = Vector2( 24, 24 )
texture = ExtResource( 21 )
expand = true
flip_v = true

[node name="Arrow2" type="TextureRect" parent="Panel/Container/Tabs/Loot/Margin/Container/Label"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -24.0
margin_bottom = 24.0
rect_min_size = Vector2( 24, 24 )
texture = ExtResource( 21 )
expand = true
flip_v = true

[node name="List" type="VBoxContainer" parent="Panel/Container/Tabs/Loot/Margin/Container"]
margin_top = 32.0
margin_right = 684.0
margin_bottom = 464.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 8

[node name="Gear" type="ScrollContainer" parent="Panel/Container/Tabs"]
visible = false
margin_left = 7.0
margin_top = 7.0
margin_right = 757.0
margin_bottom = 7.0
size_flags_horizontal = 3
scroll_horizontal_enabled = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Margin" type="MarginContainer" parent="Panel/Container/Tabs/Gear"]
margin_right = 750.0
margin_bottom = 16.0
mouse_filter = 1
size_flags_horizontal = 3
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="Vault" type="ScrollContainer" parent="Panel/Container/Tabs"]
visible = false
margin_right = 700.0
margin_bottom = 480.0
focus_mode = 2
scroll_horizontal_enabled = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Margin" type="MarginContainer" parent="Panel/Container/Tabs/Vault"]
margin_right = 700.0
margin_bottom = 16.0
mouse_filter = 1
size_flags_horizontal = 3
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="List" type="VBoxContainer" parent="Panel/Container/Tabs/Vault/Margin"]
margin_left = 8.0
margin_top = 8.0
margin_right = 692.0
margin_bottom = 8.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 8

[node name="Summary" type="ScrollContainer" parent="Panel/Container/Tabs"]
visible = false
margin_left = 7.0
margin_top = 7.0
margin_right = 757.0
margin_bottom = 7.0
size_flags_horizontal = 3
scroll_horizontal_enabled = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Margin" type="MarginContainer" parent="Panel/Container/Tabs/Summary"]
margin_right = 750.0
margin_bottom = 16.0
mouse_filter = 1
size_flags_horizontal = 3
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 8

[node name="GearSummary" parent="Panel/Container/Tabs/Summary/Margin" instance=ExtResource( 12 )]
anchor_right = 0.0
margin_left = 8.0
margin_top = 8.0
margin_right = 742.0
margin_bottom = 8.0

[node name="Shop" type="VBoxContainer" parent="Panel/Container/Tabs"]
visible = false
margin_left = 50.0
margin_right = 650.0
margin_bottom = 480.0
rect_min_size = Vector2( 600, 0 )
size_flags_horizontal = 4
size_flags_vertical = 3
custom_constants/separation = 32
alignment = 2

[node name="Beeper" parent="Panel/Container/Tabs/Shop" instance=ExtResource( 7 )]
margin_top = 47.0
margin_bottom = 172.0
character = 2

[node name="Label" type="Label" parent="Panel/Container/Tabs/Shop/Beeper"]
margin_left = 16.0
margin_top = 16.0
margin_right = 584.0
margin_bottom = 109.0
custom_fonts/font = ExtResource( 15 )
text = "I've seen you before, right? I'm not sure, sorry, my memory is corrupted. But do stay awhile and listen, man!"
autowrap = true

[node name="Regenerate" parent="Panel/Container/Tabs/Shop" instance=ExtResource( 13 )]
modulate = Color( 1, 1, 1, 1 )
self_modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_top = 204.0
margin_right = 600.0
margin_bottom = 264.0
text = "T_REGENERATE"
icon = ExtResource( 8 )
sound = "BUFF"
prevent_doubleclick = false

[node name="H" type="HBoxContainer" parent="Panel/Container/Tabs/Shop/Regenerate"]
modulate = Color( 0.952941, 0.752941, 0.368627, 1 )
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -141.0
margin_top = -15.0
margin_right = -17.0
margin_bottom = 15.0
alignment = 2

[node name="Icon" type="TextureRect" parent="Panel/Container/Tabs/Shop/Regenerate/H"]
margin_left = 43.0
margin_right = 73.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
texture = ExtResource( 3 )
expand = true

[node name="Amount" type="Label" parent="Panel/Container/Tabs/Shop/Regenerate/H"]
margin_left = 77.0
margin_right = 124.0
margin_bottom = 30.0
rect_min_size = Vector2( 0, 30 )
text = "500"
align = 1

[node name="Gamble" parent="Panel/Container/Tabs/Shop" instance=ExtResource( 13 )]
modulate = Color( 1, 1, 1, 1 )
self_modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_top = 296.0
margin_right = 600.0
margin_bottom = 356.0
text = "T_GAMBLE"
icon = ExtResource( 1 )
sound = "OPEN_TREASURE"
prevent_doubleclick = false

[node name="H" type="HBoxContainer" parent="Panel/Container/Tabs/Shop/Gamble"]
modulate = Color( 0.952941, 0.752941, 0.368627, 1 )
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -141.0
margin_top = -15.0
margin_right = -17.0
margin_bottom = 15.0
alignment = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Icon" type="TextureRect" parent="Panel/Container/Tabs/Shop/Gamble/H"]
margin_left = 43.0
margin_right = 73.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
texture = ExtResource( 3 )
expand = true

[node name="Amount" type="Label" parent="Panel/Container/Tabs/Shop/Gamble/H"]
margin_left = 77.0
margin_right = 124.0
margin_bottom = 30.0
rect_min_size = Vector2( 0, 30 )
text = "500"
align = 1

[node name="BuyKey" parent="Panel/Container/Tabs/Shop" instance=ExtResource( 13 )]
modulate = Color( 1, 1, 1, 1 )
self_modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_top = 388.0
margin_right = 600.0
margin_bottom = 448.0
text = "T_ARCHIVE_KEY"
icon = ExtResource( 11 )
sound = "ITEM_DROP_UNIQUE"
prevent_doubleclick = false

[node name="H" type="HBoxContainer" parent="Panel/Container/Tabs/Shop/BuyKey"]
modulate = Color( 0.952941, 0.752941, 0.368627, 1 )
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -141.0
margin_top = -15.0
margin_right = -17.0
margin_bottom = 15.0
alignment = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Icon" type="TextureRect" parent="Panel/Container/Tabs/Shop/BuyKey/H"]
margin_left = 43.0
margin_right = 73.0
margin_bottom = 30.0
rect_min_size = Vector2( 30, 30 )
texture = ExtResource( 3 )
expand = true

[node name="Amount" type="Label" parent="Panel/Container/Tabs/Shop/BuyKey/H"]
margin_left = 77.0
margin_right = 124.0
margin_bottom = 30.0
rect_min_size = Vector2( 0, 30 )
text = "500"
align = 1

[node name="Control" type="Control" parent="Panel/Container/Tabs/Shop"]
margin_top = 480.0
margin_right = 600.0
margin_bottom = 480.0

[node name="TabControls" type="MarginContainer" parent="Panel/Container"]
modulate = Color( 0.921569, 0.921569, 0.921569, 1 )
margin_top = 556.0
margin_right = 700.0
margin_bottom = 624.0
custom_constants/margin_right = 8
custom_constants/margin_top = 8
custom_constants/margin_left = 8
custom_constants/margin_bottom = 0

[node name="Container" type="HBoxContainer" parent="Panel/Container/TabControls"]
margin_left = 8.0
margin_top = 8.0
margin_right = 692.0
margin_bottom = 68.0
custom_constants/separation = 8

[node name="Loot" parent="Panel/Container/TabControls/Container" instance=ExtResource( 13 )]
modulate = Color( 1, 1, 1, 1 )
self_modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_right = 222.0
margin_bottom = 60.0
focus_neighbour_top = NodePath("../../../Tabs")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
text = "T_INBOX"
icon = ExtResource( 1 )
prevent_doubleclick = false

[node name="Amount" type="Label" parent="Panel/Container/TabControls/Container/Loot"]
anchor_left = 0.5
anchor_right = 0.5
margin_left = 46.0
margin_top = -19.0
margin_right = 62.0
margin_bottom = 10.0
rect_scale = Vector2( 0.9, 0.9 )
rect_pivot_offset = Vector2( 60, 0 )
text = "8"

[node name="Panel" type="Panel" parent="Panel/Container/TabControls/Container/Loot/Amount"]
modulate = Color( 1, 0.0862745, 0.564706, 1 )
show_behind_parent = true
anchor_right = 1.0
anchor_bottom = 1.0
custom_styles/panel = SubResource( 15 )

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/TabControls/Container/Loot/Amount/Panel"]
position = Vector2( -24.4445, -11.1111 )
scale = Vector2( 1.27273, 1.33335 )
polygon = PoolVector2Array( 18.8889, 27.7777, 31.1111, 27.7777, 18.8889, 37.7777 )

[node name="Triangle" type="Control" parent="Panel/Container/TabControls/Container/Loot"]
visible = false
anchor_left = 0.5
anchor_right = 0.5
margin_left = -10.0
margin_right = 10.0
margin_bottom = 20.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/TabControls/Container/Loot/Triangle"]
modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
polygon = PoolVector2Array( 0, 1, 20, 1, 10, -10 )

[node name="ActionIcon" parent="Panel/Container/TabControls/Container/Loot" instance=ExtResource( 23 )]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -32.0
margin_top = -32.0
margin_right = 0.0
margin_bottom = 0.0
rect_min_size = Vector2( 40, 40 )
icon_keyboard = ExtResource( 27 )
icon_xbox = ExtResource( 25 )
icon_ps = ExtResource( 26 )
icon_joycon = ExtResource( 24 )

[node name="Shop" parent="Panel/Container/TabControls/Container" instance=ExtResource( 13 )]
modulate = Color( 1, 1, 1, 1 )
self_modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_left = 230.0
margin_right = 453.0
margin_bottom = 60.0
focus_neighbour_top = NodePath("../../../Tabs")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
text = "T_SHOP"
icon = ExtResource( 9 )
prevent_doubleclick = false

[node name="Triangle" type="Control" parent="Panel/Container/TabControls/Container/Shop"]
visible = false
anchor_left = 0.5
anchor_right = 0.5
margin_left = -10.0
margin_right = 10.0
margin_bottom = 20.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/TabControls/Container/Shop/Triangle"]
polygon = PoolVector2Array( 0, 1, 20, 1, 10, -10 )

[node name="ActionIcon" parent="Panel/Container/TabControls/Container/Shop" instance=ExtResource( 23 )]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -32.0
margin_top = -32.0
margin_right = 0.0
margin_bottom = 0.0
rect_min_size = Vector2( 40, 40 )
icon_keyboard = ExtResource( 27 )
icon_xbox = ExtResource( 25 )
icon_ps = ExtResource( 26 )
icon_joycon = ExtResource( 24 )

[node name="Vault" parent="Panel/Container/TabControls/Container" instance=ExtResource( 13 )]
modulate = Color( 1, 1, 1, 1 )
self_modulate = Color( 0.47451, 0.596078, 0.933333, 1 )
margin_left = 461.0
margin_right = 684.0
margin_bottom = 60.0
focus_neighbour_top = NodePath("../../../Tabs")
size_flags_horizontal = 3
toggle_mode = true
group = SubResource( 10 )
text = "T_VAULT"
icon = ExtResource( 11 )
prevent_doubleclick = false

[node name="Amount" type="Label" parent="Panel/Container/TabControls/Container/Vault"]
visible = false
modulate = Color( 0.788235, 0.788235, 0.788235, 1 )
anchor_left = 1.0
anchor_right = 1.0
margin_left = -67.0
margin_top = 2.0
margin_right = -7.0
margin_bottom = 32.0
rect_scale = Vector2( 0.9, 0.9 )
rect_pivot_offset = Vector2( 60, 0 )
text = "333"
align = 2

[node name="Triangle" type="Control" parent="Panel/Container/TabControls/Container/Vault"]
visible = false
anchor_left = 0.5
anchor_right = 0.5
margin_left = -10.0
margin_right = 10.0
margin_bottom = 20.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Polygon2D" type="Polygon2D" parent="Panel/Container/TabControls/Container/Vault/Triangle"]
polygon = PoolVector2Array( 0, 1, 20, 1, 10, -10 )

[node name="ActionIcon" parent="Panel/Container/TabControls/Container/Vault" instance=ExtResource( 23 )]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -32.0
margin_top = -32.0
margin_right = 0.0
margin_bottom = 0.0
rect_min_size = Vector2( 40, 40 )
icon_keyboard = ExtResource( 27 )
icon_xbox = ExtResource( 25 )
icon_ps = ExtResource( 26 )
icon_joycon = ExtResource( 24 )

[node name="Bottom" type="PanelContainer" parent="Panel/Container"]
margin_top = 624.0
margin_right = 700.0
margin_bottom = 700.0
rect_min_size = Vector2( 0, 76 )
custom_styles/panel = SubResource( 7 )

[node name="Container" type="HBoxContainer" parent="Panel/Container/Bottom"]
margin_left = 8.0
margin_top = 8.0
margin_right = 692.0
margin_bottom = 68.0
custom_constants/separation = 8

[node name="Materials" type="VBoxContainer" parent="Panel/Container/Bottom/Container"]
modulate = Color( 0.952941, 0.752941, 0.368627, 1 )
margin_right = 60.0
margin_bottom = 60.0
rect_min_size = Vector2( 60, 60 )
hint_tooltip = "T_MATERIALS"
custom_constants/separation = 0

[node name="Control" type="Control" parent="Panel/Container/Bottom/Container/Materials"]
margin_right = 60.0
margin_bottom = 30.0
rect_min_size = Vector2( 0, 30 )

[node name="Icon" type="TextureRect" parent="Panel/Container/Bottom/Container/Materials/Control"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -15.0
margin_top = -15.0
margin_right = 15.0
margin_bottom = 15.0
rect_min_size = Vector2( 30, 30 )
rect_pivot_offset = Vector2( 15, 15 )
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource( 3 )
expand = true
stretch_mode = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Amount" type="Label" parent="Panel/Container/Bottom/Container/Materials"]
margin_top = 30.0
margin_right = 60.0
margin_bottom = 59.0
size_flags_horizontal = 3
size_flags_vertical = 1
text = "3.3k"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Vault" type="VBoxContainer" parent="Panel/Container/Bottom/Container"]
visible = false
modulate = Color( 1, 0.0862745, 0.564706, 1 )
margin_left = 68.0
margin_right = 128.0
margin_bottom = 60.0
rect_min_size = Vector2( 60, 60 )
hint_tooltip = "T_MATERIALS"
custom_constants/separation = 0

[node name="Control" type="Control" parent="Panel/Container/Bottom/Container/Vault"]
margin_right = 60.0
margin_bottom = 30.0
rect_min_size = Vector2( 0, 30 )

[node name="Icon" type="TextureRect" parent="Panel/Container/Bottom/Container/Vault/Control"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -20.0
margin_top = -20.0
margin_right = 20.0
margin_bottom = 20.0
rect_min_size = Vector2( 40, 40 )
rect_pivot_offset = Vector2( 15, 15 )
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource( 11 )
expand = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Amount" type="Label" parent="Panel/Container/Bottom/Container/Vault"]
margin_top = 30.0
margin_right = 60.0
margin_bottom = 60.0
size_flags_horizontal = 3
size_flags_vertical = 1
text = "10"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="AutoEquip" parent="Panel/Container/Bottom/Container" instance=ExtResource( 13 )]
visible = false
modulate = Color( 1, 1, 1, 1 )
margin_left = 108.0
margin_right = 331.0
margin_bottom = 64.0
hint_tooltip = "T_AUTO_EQUIP_HELP"
focus_neighbour_bottom = NodePath("../../../GearControls/Container/Summary")
size_flags_horizontal = 3
text = "T_AUTO_EQUIP"
icon = ExtResource( 16 )
prevent_doubleclick = false

[node name="RainbowTexture" type="ColorRect" parent="Panel/Container/Bottom/Container/AutoEquip"]
modulate = Color( 1, 1, 1, 0.15 )
material = SubResource( 13 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Salvage" parent="Panel/Container/Bottom/Container" instance=ExtResource( 13 )]
visible = false
modulate = Color( 1, 1, 1, 1 )
margin_left = 339.0
margin_right = 589.0
margin_bottom = 64.0
hint_tooltip = "T_AUTO_SALVAGE_HELP"
focus_neighbour_bottom = NodePath("../../../GearControls/Container/Summary")
size_flags_horizontal = 3
text = "T_SALVAGE_LOOT"
icon = ExtResource( 3 )
prevent_doubleclick = false
confirm = true

[node name="RainbowTexture" type="ColorRect" parent="Panel/Container/Bottom/Container/Salvage"]
modulate = Color( 1, 1, 1, 0.15 )
material = SubResource( 13 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Next" parent="Panel/Container/Bottom/Container" instance=ExtResource( 13 )]
modulate = Color( 1, 1, 1, 1 )
margin_left = 68.0
margin_right = 548.0
margin_bottom = 60.0
focus_neighbour_bottom = NodePath("../../../GearControls/Container/Summary")
size_flags_horizontal = 3
icon = ExtResource( 6 )

[node name="RainbowTexture" type="ColorRect" parent="Panel/Container/Bottom/Container/Next"]
modulate = Color( 1, 1, 1, 0.15 )
material = SubResource( 13 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Finish" parent="Panel/Container/Bottom/Container" instance=ExtResource( 13 )]
visible = false
margin_left = 405.0
margin_right = 684.0
margin_bottom = 64.0
focus_neighbour_bottom = NodePath("../../../GearControls/Container/Summary")
size_flags_horizontal = 3
text = "T_FINISH"
icon = ExtResource( 2 )
prevent_doubleclick = false
confirm = true

[node name="Ladder" parent="Panel/Container/Bottom/Container" instance=ExtResource( 13 )]
margin_left = 556.0
margin_right = 616.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 46.7635, 57.5 )
focus_neighbour_bottom = NodePath("../../../GearControls/Container/Summary")
icon = ExtResource( 20 )

[node name="ButtonMenu" parent="Panel/Container/Bottom/Container" instance=ExtResource( 13 )]
margin_left = 624.0
margin_right = 684.0
margin_bottom = 60.0
rect_pivot_offset = Vector2( 46.7635, 57.5 )
hint_tooltip = "T_MENU"
focus_neighbour_bottom = NodePath("../../../GearControls/Container/Summary")
icon = ExtResource( 10 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Enter = SubResource( 9 )

[node name="Tween" type="Tween" parent="."]

[connection signal="mouse_entered" from="Panel/Container/GearControls/Container/Summary" to="." method="_on_Summary_mouse_entered"]
[connection signal="mouse_exited" from="Panel/Container/GearControls/Container/Summary" to="." method="_on_Summary_mouse_exited"]
[connection signal="toggled" from="Panel/Container/GearControls/Container/Summary" to="." method="_on_Summary_toggled"]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s00" to="." method="show_gear" binds= [ 0, 0 ]]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s01" to="." method="show_gear" binds= [ 0, 1 ]]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s02" to="." method="show_gear" binds= [ 0, 2 ]]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s10" to="." method="show_gear" binds= [ 1, 0 ]]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s11" to="." method="show_gear" binds= [ 1, 1 ]]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s12" to="." method="show_gear" binds= [ 1, 2 ]]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s13" to="." method="show_gear" binds= [ 1, 3 ]]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s14" to="." method="show_gear" binds= [ 1, 4 ]]
[connection signal="toggled" from="Panel/Container/GearControls/Container/s15" to="." method="show_gear" binds= [ 1, 5 ]]
[connection signal="focus_entered" from="Panel/Container/Tabs" to="." method="_on_Tabs_focus_entered"]
[connection signal="button_down" from="Panel/Container/Tabs/Shop/Regenerate" to="." method="_on_Regenerate_button_down"]
[connection signal="button_down" from="Panel/Container/Tabs/Shop/Gamble" to="." method="_on_Gamble_button_down"]
[connection signal="button_down" from="Panel/Container/Tabs/Shop/BuyKey" to="." method="_on_BuySlot_button_down"]
[connection signal="toggled" from="Panel/Container/TabControls/Container/Loot" to="." method="_on_Loot_toggled"]
[connection signal="toggled" from="Panel/Container/TabControls/Container/Shop" to="." method="_on_Shop_toggled"]
[connection signal="toggled" from="Panel/Container/TabControls/Container/Vault" to="." method="_on_Vault_toggled"]
[connection signal="button_down" from="Panel/Container/Bottom/Container/AutoEquip" to="." method="auto_equip"]
[connection signal="button_down" from="Panel/Container/Bottom/Container/Salvage" to="." method="press_loot_button"]
[connection signal="press_confirmed" from="Panel/Container/Bottom/Container/Salvage" to="." method="salvage_all"]
[connection signal="button_down" from="Panel/Container/Bottom/Container/Next" to="." method="next"]
[connection signal="press_confirmed" from="Panel/Container/Bottom/Container/Finish" to="." method="_on_Finish_button_down"]
[connection signal="button_down" from="Panel/Container/Bottom/Container/Ladder" to="." method="_on_Ladder_button_down"]
[connection signal="button_down" from="Panel/Container/Bottom/Container/ButtonMenu" to="." method="_on_ButtonMenu_button_down"]
